<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>	
<%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags" %>	
	
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>	
<c:set var="customUser" value="${sessionScope.SPRING_SECURITY_CONTEXT.authentication.principal}" />
<input type="hidden" id="sessionUserId" value="${customUser.username}"/>

<input type="hidden" id="sessionUserNm" value="${customUser.employee.empNm}"/>
<input type="hidden" id="sessionUserProfile" value="${customUser.employee.empProfile}"/>
<!-- 
	########### 헤더 가이드 ################
	로고 눌렀을 시에 각자 파트의 홈 화면 a 태그 주기(빈화면)
	추후 공지사항 메시지 스케줄 마이메뉴 만들어지면 링크 추가!!!!!
	시큐리티 세션정보 통해서 프로필 이미지 경로 추가!!!

 -->

<nav class="navbar navbar-light navbar-glass navbar-top navbar-expand-lg" style="margin: 0px; padding: 0px;">

	<button
		class="btn navbar-toggler-humburger-icon navbar-toggler me-1 me-sm-3"
		type="button" data-bs-toggle="collapse"
		data-bs-target="#navbarStandard" aria-controls="navbarStandard"
		aria-expanded="false" aria-label="Toggle Navigation">
		<span class="navbar-toggle-icon"><span class="toggle-line"></span></span>
	</button>
	<a class="navbar-brand me-1 me-sm-3" href="/mediform/manager/home">
		<div class="d-flex align-items-center">
		
		<!--     -->
		<!-- 이미지에 a태그 사용해서 각자 홈페이지로 하이퍼링크 만들기!!!!!!!!!    -->
		<!--     -->
		
			<img class="me-2" src="/resources/image/LOGO.JPG" alt="" width="180" />
		
		
		
		</div>
	</a>
	<div class="collapse navbar-collapse scrollbar" id="navbarStandard">
			
			<!--  -->
			<!-- 메뉴바 버튼's -->
			<!-- 버튼 글자는 최대 4글자까지!!! -->
			<!--  -->
			
			<!-- 메뉴바 재원 예시 -->
<!-- 		<ul class="navbar-nav" data-top-nav-dropdowns="data-top-nav-dropdowns"> -->
<!-- 			<li class="nav-item button" > -->
<!-- 				<button type="button" style="width:130px" class="btn btn-lg" id="employee">직원</button> -->
<!-- 				&nbsp;&nbsp; -->
<!-- 				<button type="button" style="width:130px" class="btn btn-lg" id="menubar">환자</button> -->
<!-- 				&nbsp;&nbsp; -->
<!-- 				<button type="button" style="width:130px" class="btn btn-lg" id="menubar">일정</button> -->
<!-- 				&nbsp;&nbsp; -->
<!-- 				<button type="button" style="width:130px" class="btn btn-lg" id="menubar">수납</button> -->
<!-- 				&nbsp;&nbsp; -->
<!-- 				<button type="button" style="width:130px" class="btn btn-lg" id="menubar">비품</button> -->
<!-- 				&nbsp;&nbsp; -->
<!-- 				<button type="button" style="width:130px" class="btn btn-lg" id="menubar">감사</button> -->
<!-- 			</li>  -->
<!-- 		</ul> -->
			<!-- 메뉴바 재원 예시 -->

		<!-- 메뉴바 유빈 예시 -->
		<div class="box bg-1">
          <button class="button menu" id="employee" type="button" data-text="직원"><span>직원</span></button>
          <button class="button menu" id="schedule" type="button" data-text="일정"><span>일정</span></button>
          <button class="button menu" id="receive"  type="button" data-text="수납"><span>수납</span></button>
          <button class="button menu" id="sanction"  type="button" data-text="결재"><span>결재</span></button>
          <button class="button menu" id="audit"  type="button" data-text="감사"><span>감사</span></button>
          <button class="button menu" id="statistics"  type="button" data-text="통계"><span>통계</span></button>
        </div>
		<!-- 메뉴바 유빈 예시 -->


		
			<!--  -->
			<!-- 끝 : 메뉴바 버튼's -->
			<!--  -->
			
	</div>
	
	
	<ul class="navbar-nav navbar-nav-icons ms-auto flex-row align-items-center">
		
		
		<!-- 다크모드 설정 : 디스플레이 none으로 해서 화면단에 출력 안됨! -->
		<li class="nav-item ps-2 pe-0">
			<div class="dropdown theme-control-dropdown" style="display:none">
				<a
					class="nav-link d-flex align-items-center dropdown-toggle fa-icon-wait fs-0 pe-1 py-0"
					href="#" role="button" id="themeSwitchDropdown"
					data-bs-toggle="dropdown" aria-haspopup="true"
					aria-expanded="false"><span class="fas fa-sun fs-2"
					data-fa-transform="shrink-2"
					data-theme-dropdown-toggle-icon="light"></span><span
					class="fas fa-moon fs-2" data-fa-transform="shrink-3"
					data-theme-dropdown-toggle-icon="dark"></span><span
					class="fas fa-adjust fs-2" data-fa-transform="shrink-2"
					data-theme-dropdown-toggle-icon="auto"></span></a>
				<div
					class="dropdown-menu dropdown-menu-end dropdown-caret border py-0 mt-3"
					aria-labelledby="themeSwitchDropdown">
					<div class="bg-white dark__bg-1000 rounded-2 py-2">
						<button class="dropdown-item d-flex align-items-center gap-2"
							type="button" value="light" data-theme-control="theme">
							<span class="fas fa-sun"></span>Light<span
								class="fas fa-check dropdown-check-icon ms-auto text-600"></span>
						</button>
						<button class="dropdown-item d-flex align-items-center gap-2"
							type="button" value="dark" data-theme-control="theme">
							<span class="fas fa-moon" data-fa-transform=""></span>Dark<span
								class="fas fa-check dropdown-check-icon ms-auto text-600"></span>
						</button>
						<button class="dropdown-item d-flex align-items-center gap-2"
							type="button" value="auto" data-theme-control="theme">
							<span class="fas fa-adjust" data-fa-transform=""></span>Auto<span
								class="fas fa-check dropdown-check-icon ms-auto text-600"></span>
						</button>
					</div>
				</div>
			</div>
		</li>
		<!-- 끝 : 다크 모드 설정 -->
		
		<!-- 게시판 아이콘 : 추후 게시판 페이지 링크 추가!!! -->
		<li class="nav-item d-none d-sm-block">
			<a class="nav-link px-0" href="/mediform/admin/board/list">
			<svg xmlns="http://www.w3.org/2000/svg" width="40" height="30" fill="currentColor" class="bi bi-clipboard2" viewBox="0 0 16 16">
			  <path d="M3.5 2a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-12a.5.5 0 0 0-.5-.5H12a.5.5 0 0 1 0-1h.5A1.5 1.5 0 0 1 14 2.5v12a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-12A1.5 1.5 0 0 1 3.5 1H4a.5.5 0 0 1 0 1h-.5Z"/>
			  <path d="M10 .5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5.5.5 0 0 0-.5.5V2a.5.5 0 0 0 .5.5h5A.5.5 0 0 0 11 2v-.5a.5.5 0 0 0-.5-.5.5.5 0 0 1-.5-.5Z"/>
			</svg>
			</a>
		</li>
		<!-- 끝 :게시판 아이콘 -->
		
		<li>&nbsp;&nbsp;</li>
		
		<!-- 일정 달력 아이콘 : 추후 일정 페이지 링크 추가!!! -->
		<li class="nav-item d-none d-sm-block">
			<a class="nav-link px-0" href="/mediform/scheduler/main">
			<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-calendar-event" viewBox="0 0 16 16">
			  <path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"/>
			  <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
			</svg>
			</a>
		</li>
		<!-- 끝 :일정 달력 아이콘 -->
		
		<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
				
		<!-- 알림 아이콘 : 알림 기능 추가되면 수정 -->		
		<li class="nav-item dropdown">
			<a class="nav-link notification-indicator notification-indicator-primary px-0 fa-icon-wait"
			id="navbarDropdownNotification" role="button"
			data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
			data-hide-on-body-scroll="data-hide-on-body-scroll">
				<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-bell" viewBox="0 0 16 16">
				  <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>
				</svg>
			</a>
		</li>
		<!-- 끝 : 알림 -->	
		
		<li>&nbsp;&nbsp;&nbsp;</li>
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		<!-- ==================================채팅 시작================================== -->
		<li class="nav-item dropdown">
			<a class="chatting-dropdown-toggle nav-link notification-indicator notification-indicator-primary px-0 fa-icon-wait"
				id="chatting" role="button"
				data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
				data-hide-on-body-scroll="data-hide-on-body-scroll">
				
				<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-chat" viewBox="0 0 16 16">
				  <path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
				</svg>
					
			</a>
			
			<div id="chattingMenuWindow" 
				class="chatting-dropdown-menu dropdown-menu Sdropdown-caret dropdown-caret dropdown-menu-end dropdown-menu-card dropdown-menu-notification dropdown-caret-bg"
				aria-labelledby="chatting">
				
				
				<div class="card card-notification" style="width: 400px; height:550px;">
					<div class="card-header row">
						<div class="col-6">
							<ul class="nav nav-tabs" id="myTab" role="tablist">
								<li class="nav-item text-center col-6" >
									<a
									class="nav-link active fw-semi-bold" id="friend-tab"
									data-bs-toggle="tab" href="#tab-friend" role="tab"
									aria-controls="tab-home" aria-selected="true">친구</a>
								</li>
								<li class="nav-item text-center col-6">
									<a
									class="nav-link fw-semi-bold" id="profile-tab"
									data-bs-toggle="tab" href="#tab-chat" role="tab"
									aria-controls="tab-chat" aria-selected="false">채팅</a>
								</li>
							</ul>
						</div>
						<div class="col-3">
						</div>
						<div class="col-3">
							<button id="makeRoom" class="btn btn-outline-primary btn-sm">+</button>
						</div>
						
						
					</div>
					
					
					<div id="chattindMenu" class="row card-body pt-0">
						<div class="tab-content" id="myTabContent">

							<!-- 친구목록 -->
							<div class="tab-pane fade show active" id="tab-friend"
								role="tabpanel" aria-labelledby="friend-tab">

								<div class="table-container"
									style="overflow-y: auto; max-height: 480px;">
									<table class="table table-sm">
										<thead>
											<tr id="" class="bg-light">
												<th colspan="3" class="col-2" scope="col">친구 <span id="friendCount"></span>명</th>
											</tr>
										</thead>
										<tbody id="friendSpace" style="overflow-y: auto; max-height: 420px;">

											<!-- 친구 리스트 출력 (ajax) -->

										</tbody>
									</table>
								</div>

							</div>
							<!-- 친구 목록 끝 -->

							<!-- 채팅방 리스트 -->
							<div class="tab-pane fade" id="tab-chat" role="tabpanel"
								aria-labelledby="tab-chat">
								
								<div class="table-container"
									style="overflow-y: auto; max-height: 480px;">
									<table class="table table-sm">
										<thead>
											<tr id="" class="bg-light">
												<th colspan="3" class="col-2" scope="col">채팅방 <span id="roomCount"></span>개</th>
											</tr>
										</thead>
										<tbody id="roomSpace" style="overflow-y: auto; max-height: 420px;">



														
															

										</tbody>
									</table>
								</div>
							</div>
							<!-- 채팅방 리스트 끝 -->



							


						</div>
					</div>
					
					
					</div>
					
					
					
					
				</div>
				<!-- 채팅메뉴끝 --> <!-- 실제 채팅방 -->
			<div id="chattingWindow"
				class="dropdown-menu Sdropdown-caret dropdown-caret dropdown-menu-end dropdown-menu-card dropdown-menu-notification dropdown-caret-bg"
				aria-labelledby="chatting">
				<div class="card card-notification"
					style="width: 400px; height: 550px;">

					<div class="chat-content-scroll-area scrollbar">
						<div class="d-flex position-relative p-3 border-bottom mb-3 align-items-center">
							<!-- 채팅방 헤더 -->
							채팅방 헤더
							<button id="closeChattingBtn" class="btn btn-outline-primary">X</button>
							
						</div>
						<div class="text-center fs--2 text-500">
							<span>May 5, 2019, 11:54 am</span>
						</div>
						<div class="d-flex p-3">
							<div class="avatar avatar-l me-2">
								<img class="rounded-circle" src="${pageContext.request.contextPath }/resources/assets/img/team/2.jpg"
									alt="" />

							</div>
							<div class="flex-1">
								<div class="w-xxl-75">
									<div class="hover-actions-trigger d-flex align-items-center">
										<div class="chat-message bg-200 p-2 rounded-2">채팅 내용을 마음대로 지껄여보겠다. 으캬캬캬
										쿄쿄쿜 우ㅜ우ㅜ우쿠쿠쿠쿠쿠ㅜㅋ 우태원</div>
										<ul
											class="hover-actions position-relative list-inline mb-0 text-400 ms-2">
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Forward"><span class="fas fa-share"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Archive"><span class="fas fa-archive"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Edit"><span class="fas fa-edit"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Remove"><span class="fas fa-trash-alt"></span></a></li>
										</ul>
									</div>
									<div class="text-400 fs--2">
										<span>11:54 am</span>
									</div>
								</div>
							</div>
						</div>
						<div class="d-flex p-3">
							<div class="avatar avatar-l me-2">
								<img class="rounded-circle" src="${pageContext.request.contextPath }/resources/assets/img/team/2.jpg"
									alt="" />

							</div>
							<div class="flex-1">
								<div class="w-xxl-75">
									<div class="hover-actions-trigger d-flex align-items-center">
										<div class="chat-message bg-200 p-2 rounded-2">What are
											you doing?</div>
										<ul
											class="hover-actions position-relative list-inline mb-0 text-400 ms-2">
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Forward"><span class="fas fa-share"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Archive"><span class="fas fa-archive"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Edit"><span class="fas fa-edit"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Remove"><span class="fas fa-trash-alt"></span></a></li>
										</ul>
									</div>
									<div class="text-400 fs--2">
										<span>11:54 am</span>
									</div>
								</div>
							</div>
						</div>
						<div class="d-flex p-3">
							<div class="flex-1 d-flex justify-content-end">
								<div class="w-100 w-xxl-75">
									<div class="hover-actions-trigger d-flex flex-end-center">
										<ul
											class="hover-actions position-relative list-inline mb-0 text-400 me-2">
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Forward"><span class="fas fa-share"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Archive"><span class="fas fa-archive"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Edit"><span class="fas fa-edit"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Remove"><span class="fas fa-trash-alt"></span></a></li>
										</ul>
										<div class="bg-primary text-white p-2 rounded-2 chat-message"
											data-bs-theme="light">
											<p class="mb-0">I took this pic</p>
											<a href="${pageContext.request.contextPath }/resources/assets/img/chat/1.jpg" data-gallery="gallery-3">
												<img class="rounded" src="${pageContext.request.contextPath }/resources/assets/img/chat/1.jpg" alt=""
												width="150">
											</a>

										</div>
									</div>
									<div class="text-400 fs--2 text-end">
										11:54 am<span class="fas fa-check ms-2 text-success"></span>
									</div>
								</div>
							</div>
						</div>
						<div class="d-flex p-3">
							<div class="flex-1 d-flex justify-content-end">
								<div class="w-100 w-xxl-75">
									<div class="hover-actions-trigger d-flex flex-end-center">
										<ul
											class="hover-actions position-relative list-inline mb-0 text-400 me-2">
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Forward"><span class="fas fa-share"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Archive"><span class="fas fa-archive"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Edit"><span class="fas fa-edit"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Remove"><span class="fas fa-trash-alt"></span></a></li>
										</ul>
										<div class="bg-primary text-white p-2 rounded-2 chat-message"
											data-bs-theme="light">Nothing!</div>
									</div>
									<div class="text-400 fs--2 text-end">
										11:54 am<span class="fas fa-check ms-2 text-success"></span>
									</div>
								</div>
							</div>
						</div>
						<div class="text-center fs--2 text-500">
							<span>May 6, 2019, 11:54 am</span>
						</div>
						<div class="d-flex p-3">
							<div class="avatar avatar-l me-2">
								<img class="rounded-circle" src="${pageContext.request.contextPath }/resources/assets/img/team/2.jpg"
									alt="" />

							</div>
							<div class="flex-1">
								<div class="w-xxl-75">
									<div class="hover-actions-trigger d-flex align-items-center">
										<div class="chat-message bg-200 p-2 rounded-2">How are
											you?</div>
										<ul
											class="hover-actions position-relative list-inline mb-0 text-400 ms-2">
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Forward"><span class="fas fa-share"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Archive"><span class="fas fa-archive"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Edit"><span class="fas fa-edit"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Remove"><span class="fas fa-trash-alt"></span></a></li>
										</ul>
									</div>
									<div class="text-400 fs--2">
										<span>11:54 am</span>
									</div>
								</div>
							</div>
						</div>
						<div class="d-flex p-3">
							<div class="flex-1 d-flex justify-content-end">
								<div class="w-100 w-xxl-75">
									<div class="hover-actions-trigger d-flex flex-end-center">
										<ul
											class="hover-actions position-relative list-inline mb-0 text-400 me-2">
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Forward"><span class="fas fa-share"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Archive"><span class="fas fa-archive"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Edit"><span class="fas fa-edit"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Remove"><span class="fas fa-trash-alt"></span></a></li>
										</ul>
										<div class="bg-primary text-white p-2 rounded-2 chat-message"
											data-bs-theme="light">Fine</div>
									</div>
									<div class="text-400 fs--2 text-end">
										11:54 am<span class="fas fa-check-double ms-2"></span>
									</div>
								</div>
							</div>
						</div>
						<div class="text-center fs--2 text-500">
							<span>May 7, 2019, 11:54 am</span>
						</div>
						<div class="d-flex p-3">
							<div class="flex-1 d-flex justify-content-end">
								<div class="w-100 w-xxl-75">
									<div class="hover-actions-trigger d-flex flex-end-center">
										<ul
											class="hover-actions position-relative list-inline mb-0 text-400 me-2">
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Forward"><span class="fas fa-share"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Archive"><span class="fas fa-archive"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Edit"><span class="fas fa-edit"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Remove"><span class="fas fa-trash-alt"></span></a></li>
										</ul>
										<div class="chat-message chat-gallery">
											<div class="row mx-n1">
												<div class="col-6 col-md-4 px-1" style="min-width: 50px;">
													<a href="${pageContext.request.contextPath }/resources/assets/img/chat/7.jpg" data-gallery="gallery-1"><img
														src="${pageContext.request.contextPath }/resources/assets/img/chat/7.jpg" alt=""
														class="img-fluid rounded mb-2"></a>
												</div>
												<div class="col-6 col-md-4 px-1" style="min-width: 50px;">
													<a href="${pageContext.request.contextPath }/resources/assets/img/chat/8.jpg" data-gallery="gallery-1"><img
														src="${pageContext.request.contextPath }/resources/assets/img/chat/8.jpg" alt=""
														class="img-fluid rounded mb-2"></a>
												</div>
												<div class="col-6 col-md-4 px-1" style="min-width: 50px;">
													<a href="${pageContext.request.contextPath }/resources/assets/img/chat/9.jpg" data-gallery="gallery-1"><img
														src="${pageContext.request.contextPath }/resources/assets/img/chat/9.jpg" alt=""
														class="img-fluid rounded mb-2"></a>
												</div>
												<div class="col-6 col-md-4 px-1" style="min-width: 50px;">
													<a href="${pageContext.request.contextPath }/resources/assets/img/chat/10.jpg"
														data-gallery="gallery-1"><img
														src="${pageContext.request.contextPath }/resources/assets/img/chat/10.jpg" alt=""
														class="img-fluid rounded mb-2 mb-lg-0"></a>
												</div>
												<div class="col-6 col-md-4 px-1" style="min-width: 50px;">
													<a href="${pageContext.request.contextPath }/resources/assets/img/chat/11.jpg"
														data-gallery="gallery-1"><img
														src="${pageContext.request.contextPath }/resources/assets/img/chat/11.jpg" alt=""
														class="img-fluid rounded mb-2 mb-lg-0"></a>
												</div>
												<div class="col-6 col-md-4 px-1" style="min-width: 50px;">
													<a href="${pageContext.request.contextPath }/resources/assets/img/chat/12.jpg"
														data-gallery="gallery-1"><img
														src="${pageContext.request.contextPath }/resources/assets/img/chat/12.jpg" alt=""
														class="img-fluid rounded"></a>
												</div>
											</div>
										</div>
									</div>
									<div class="text-400 fs--2 text-end">
										11:54 am<span class="fas fa-check ms-2"></span>
									</div>
								</div>
							</div>
						</div>
						<div class="d-flex p-3">
							<div class="avatar avatar-l me-2">
								<img class="rounded-circle" src="${pageContext.request.contextPath }/resources/assets/img/team/2.jpg"
									alt="" />

							</div>
							<div class="flex-1">
								<div class="w-xxl-75">
									<div class="hover-actions-trigger d-flex align-items-center">
										<div class="chat-message bg-200 p-2 rounded-2">I took
											some excellent images yesterday.</div>
										<ul
											class="hover-actions position-relative list-inline mb-0 text-400 ms-2">
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Forward"><span class="fas fa-share"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Archive"><span class="fas fa-archive"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Edit"><span class="fas fa-edit"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Remove"><span class="fas fa-trash-alt"></span></a></li>
										</ul>
									</div>
									<div class="text-400 fs--2">
										<span>11:54 am</span>
									</div>
								</div>
							</div>
						</div>
						<div class="text-center fs--2 text-500">
							<span>May 8, 2019, 11:54 am</span>
						</div>
						<div class="d-flex p-3">
							<div class="flex-1 d-flex justify-content-end">
								<div class="w-100 w-xxl-75">
									<div class="hover-actions-trigger d-flex flex-end-center">
										<ul
											class="hover-actions position-relative list-inline mb-0 text-400 me-2">
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Forward"><span class="fas fa-share"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Archive"><span class="fas fa-archive"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Edit"><span class="fas fa-edit"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Remove"><span class="fas fa-trash-alt"></span></a></li>
										</ul>
										<div class="bg-primary text-white p-2 rounded-2 chat-message"
											data-bs-theme="light">Give me the images.</div>
									</div>
									<div class="text-400 fs--2 text-end">11:54 am</div>
								</div>
							</div>
						</div>
						<div class="d-flex p-3">
							<div class="avatar avatar-l me-2">
								<img class="rounded-circle" src="${pageContext.request.contextPath }/resources/assets/img/team/2.jpg"
									alt="" />

							</div>
							<div class="flex-1">
								<div class="w-xxl-75">
									<div class="hover-actions-trigger d-flex align-items-center">
										<div class="chat-message chat-gallery">
											<div class="row mx-n1">
												<div class="col-6 col-md-4 px-1" style="min-width: 50px;">
													<a href="${pageContext.request.contextPath }/resources/assets/img/chat/1.jpg" data-gallery="gallery-2"><img
														src="${pageContext.request.contextPath }/resources/assets/img/chat/1.jpg" alt=""
														class="img-fluid rounded mb-2"></a>
												</div>
												<div class="col-6 col-md-4 px-1" style="min-width: 50px;">
													<a href="${pageContext.request.contextPath }/resources/assets/img/chat/2.jpg" data-gallery="gallery-2"><img
														src="${pageContext.request.contextPath }/resources/assets/img/chat/2.jpg" alt=""
														class="img-fluid rounded mb-2"></a>
												</div>
												<div class="col-6 col-md-4 px-1" style="min-width: 50px;">
													<a href="${pageContext.request.contextPath }/resources/assets/img/chat/3.jpg" data-gallery="gallery-2"><img
														src="${pageContext.request.contextPath }/resources/assets/img/chat/3.jpg" alt=""
														class="img-fluid rounded mb-2"></a>
												</div>
												<div class="col-6 col-md-4 px-1" style="min-width: 50px;">
													<a href="${pageContext.request.contextPath }/resources/assets/img/chat/4.jpg" data-gallery="gallery-2"><img
														src="${pageContext.request.contextPath }/resources/assets/img/chat/4.jpg" alt=""
														class="img-fluid rounded mb-2 mb-lg-0"></a>
												</div>
												<div class="col-6 col-md-4 px-1" style="min-width: 50px;">
													<a href="${pageContext.request.contextPath }/resources/assets/img/chat/5.jpg" data-gallery="gallery-2"><img
														src="${pageContext.request.contextPath }/resources/assets/img/chat/5.jpg" alt=""
														class="img-fluid rounded mb-2 mb-lg-0"></a>
												</div>
												<div class="col-6 col-md-4 px-1" style="min-width: 50px;">
													<a href="${pageContext.request.contextPath }/resources/assets/img/chat/6.jpg" data-gallery="gallery-2"><img
														src="${pageContext.request.contextPath }/resources/assets/img/chat/6.jpg" alt=""
														class="img-fluid rounded"></a>
												</div>
											</div>
										</div>
										<ul
											class="hover-actions position-relative list-inline mb-0 text-400 ms-2">
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Forward"><span class="fas fa-share"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Archive"><span class="fas fa-archive"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Edit"><span class="fas fa-edit"></span></a></li>
											<li class="list-inline-item"><a class="chat-option"
												href="#!" data-bs-toggle="tooltip" data-bs-placement="top"
												title="Remove"><span class="fas fa-trash-alt"></span></a></li>
										</ul>
									</div>
									<div class="text-400 fs--2">
										<span>11:54 am</span>
									</div>
								</div>
							</div>
						</div>
					</div>


				</div>
			</div>


		</li>
		
		
		
		
		
		
		
		

		<!-- ==================================채팅 종료================================== -->
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	
		
		<li>&nbsp;&nbsp;&nbsp;</li>
			
		<!-- 프로필 이미지 누르면 마이페이지 로그아웃 드롭 다운 -->	
		<li class="nav-item dropdown">
			<a class="nav-link pe-0 ps-2" id="navbarDropdownUser" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				<div class="avatar avatar-xl">
					<img class="rounded-circle" src="${customUser.employee.empProfile}" alt="" />
				</div>
			</a>
			<div class="dropdown-menu dropdown-caret dropdown-caret dropdown-menu-end py-1" aria-labelledby="navbarDropdownUser">

					<a class="dropdown-item text-center" href="/mediform/common/mypage">
						<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
						  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
						  <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
						</svg>
						<span>마이페이지</span>
					</a>
					<div class="dropdown-divider"></div>
					
					
					
					<form action="/mediform/logout" method="post">
						<button class="dropdown-item text-center">
	<!-- 					<a class="dropdown-item text-center" href="/mediform/logout"> -->
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-key" viewBox="0 0 16 16">
						  <path d="M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8zm4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5z"/>
						  <path d="M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
						</svg>
							<span>Logout</span>
	<!-- 					</a> -->
						</button>
						<sec:csrfInput/>
					</form>
					
					
					
					
			</div>
		</li>
		<!-- 끝 : 프로필  -->
		
	</ul>
</nav>


<div class="modal fade" id="makeRoomModal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: 450px">
    <div class="modal-content position-relative">
      <div class="position-absolute top-0 end-0 mt-2 me-2 z-1">
        <button class="btn-close btn btn-sm btn-circle d-flex flex-center transition-base" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
			<div class="modal-body p-0">
				<div class="rounded-top-3 py-3 ps-4 pe-6"
					style="background-color: midnightblue">
					<h4 class="mb-1 text-white" id="modalExampleDemoLabel">방 만들기</h4>
				</div>
				<div class="table-container"
					style="overflow-y: auto; max-height: 400px;">
					<table class="table table-sm">
						<thead>
							<tr id="" class="bg-light">
								<th colspan="3" class="col-2" scope="col">선택된 친구 <span
									id="friendCount1">0</span>명
								</th>
							</tr>
						</thead>
						<tbody id="friendSpace1"
							style="overflow-y: auto; max-height: 360px;">

							<!-- 친구 리스트 출력 (ajax) -->

						</tbody>
					</table>
				</div>
			</div>
			<div class="modal-footer">
        <button class="btn btn-primary" id="makeRoomBtn" type="button">방만들기</button>
        <button class="btn btn-secondary" type="button" data-bs-dismiss="modal">닫기</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="makeRoomNameModal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: 500px">
    <div class="modal-content position-relative">
      <div class="position-absolute top-0 end-0 mt-2 me-2 z-1">
        <button class="btn-close btn btn-sm btn-circle d-flex flex-center transition-base" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
			<div class="modal-body p-0">
				<div class="rounded-top-3 py-3 ps-4 pe-6"
					style="background-color: midnightblue">
					<h4 class="mb-1 text-white" id="modalExampleDemoLabel">방 만들기</h4>
				</div>
				<div class="p-4 pb-0">
		          <div class="text-center fw-semi-bold">
		          		<input type="text" id="roomName"/>
		          	<br>
		          </div>
				</div>
			</div>
			<div class="modal-footer">
	        <button class="btn btn-primary" id="makeRoomBtn1" type="button">방만들기</button>
	        <button class="btn btn-secondary" type="button" data-bs-dismiss="modal">닫기</button>
      </div>
    </div>
  </div>
</div>



<script type="text/javascript">

$(document).ready(function() {
	
	var token = $("meta[name='_csrf']").attr("content");
	var header = $("meta[name='_csrf_header']").attr("content");

	var friendSpace = $("#friendSpace");
	var friendCount = $("#friendCount");
	
	var makeRoom = $("#makeRoom");
	var makeRoomModal = $("#makeRoomModal");
	
	var friendSpace1 = $("#friendSpace1");
	var friendCount1 = $("#friendCount1");
	
	var makeRoomBtn = $("#makeRoomBtn");
	
	var roomSpace = $("#roomSpace");
	var roomCount = $("#roomCount");
	
	document.getElementById('chattingWindow').style.display = 'none';
	
	var closeChattingBtn = $("#closeChattingBtn");
	
	
	
    $(".chatting-dropdown-toggle").click(function() {
	      $(".chatting-dropdown-menu").toggle(); // 드롭다운 토글
	      
	      console.log("토글 이벤트");
	      
	      // 친구 리스트 가져오기
	      $.ajax({
	   		type : "post",
	  		url : "/mediform/common/chatting/friend/list",
	   		contentType : "application/json; charset=utf-8",
	   		async: false,
	          beforeSend : function(xhr){            
	              xhr.setRequestHeader(header,token);
	          },
	   		success : function(res) {
	   			
	   			var freindListHtml = "";
	   			
	   			if(res.length == 0){
	   				console.log("친구 없음!");
	   				
	   			}else{
	   				console.log("친구 있음");
	   				friendCount.html(res.length);
	   				
	   				$(res).each(function(){
	   					
	   					var department = "";
	   					
	   					if(this.empSe === "a"){
	   						department = "원무과";
	   					}else if(this.empSe === "d"){
	   						department = "의사";
	   					}else if(this.empSe === "n"){
	   						department = "간호사";
	   					}else if(this.empSe === "t"){
	   						department = "치료사";
	   					}else if(this.empSe === "m"){
	   						department = "관리자";
	   					}else if(this.empSe === "k"){
	   						department = "병원장";
	   					}
	   					
	  					
	   					freindListHtml += "<tr class='oneFriend' id='' style='height: 55px;'>";
	   	 				freindListHtml += "	<td class='col-3' style='vertical-align: middle'>";
	   	 				freindListHtml += "		<img class='rounded-circle' src='" + this.empProfile + "' alt='' style='width:40px; height:40px;'/>";
	   	 				freindListHtml += "	</td>";
	   	 				freindListHtml += "	<td class='col-5' style='vertical-align: middle'>" + this.empNm +"</td>";
	   	 				freindListHtml += "	<td class='col-4 text-center' style='vertical-align: middle'>";
	   	 				freindListHtml += department;
	   	 				freindListHtml += "	</td>";
	   	 				freindListHtml += "</tr>";
	   				});
	   				
	   				
	   				friendSpace.html(freindListHtml);
	   				
	   				
	   			}
	   			
	   			
	   		}
	   	});
	    // 친구 리스트 가져오기 끝
	    
	      var sessionUserId = $("#sessionUserId").val();
	      
	      var chatUser = {
	    	  sessionUserId : sessionUserId
	      }
	      
	      console.log("세션 아이디 : " + sessionUserId)
	      
	      // 채팅방 리스트 가져오기
	      $.ajax({
		   		type : "post",
		  		url : "/mediform/common/chatting/room/list",
		  		data : JSON.stringify(chatUser),
		   		contentType : "application/json; charset=utf-8",
		   		async: false,
		          beforeSend : function(xhr){            
		              xhr.setRequestHeader(header,token);
		          },
		   		success : function(res) {
		   			
		   			var roomListHtml = "";
		   			
		   			if(res.length == 0){
		   				console.log("채팅방 없음!");
		   				
		   			}else{
		   				console.log("채팅방 있음");
		   				roomCount.html(res.length);
		   				
		   				// 채팅방 리스트 출력
		   				$(res).each(function(){
		   					
		   					roomListHtml += "<tbody class='oneRoom' id='" + this.chttRoomNo + "'>";
		   					roomListHtml += "	<tr id='' style='height: 25px;'>";
		   					roomListHtml += "		<td rowspan='2' class='col-3' style='vertical-align: middle'>";
		   					roomListHtml += "			<img class='rounded-circle' src='${customUser.employee.empProfile}' alt='' style='width:40px; height:40px;'/>";
		   					roomListHtml += "		</td>";
		   					roomListHtml += "		<td class='col-7 text-center fw-semi-bold' style='vertical-align: middle'>" + this.indvdlSetupRoomNm + "</td>";
		   					roomListHtml += "		<td class='col-2 text-center' style='vertical-align: middle'>";
		   					roomListHtml +=				this.chttDe;
		   					roomListHtml += "		</td>";
		   					roomListHtml += "	</tr>";
		   					roomListHtml += "	<tr class='' id='' style='height: 25px;'>";
		   					roomListHtml += "		<td class='col-7' style='vertical-align: middle'>";
		   					roomListHtml += 			this.chttCn;
		   					roomListHtml += "		</td>";
		   					roomListHtml += "		<td class='col-2 text-center' style='vertical-align: middle'>";
		   					roomListHtml += "			xx";
		   					roomListHtml += "		</td>";
		   					roomListHtml += "	</tr>";
		   					roomListHtml += "</tbody>";
		   					
		   				});
		   				roomSpace.html(roomListHtml);
		   				
		   				// 채팅방 리스트 출력 끝
		   			}
		   		}
	      });
	      
	      $(".oneRoom").on("click", function(){
				
				console.log("크,,클릭!!");
				
				document.getElementById('chattingMenuWindow').style.display = 'none';
				document.getElementById('chattingWindow').style.display = 'block';
				
				
				
				
		 }); 
	      closeChattingBtn.on("click", function(){
	    	  document.getElementById('chattingWindow').style.display = 'none';
	    	  document.getElementById('chattingMenuWindow').style.display = 'block';
	  	 });
	      
      
    });
	// 채팅방 리스트 가져오기 끝
    
	// 방만들기 클릭 이벤트 - 모달
    makeRoom.on("click", function(){
    	
    	makeRoomModal.modal("show");
    	
   		var checkboxes = document.querySelectorAll('input[name=selectFriend]:checked');
    	
    	var selectedCount = 0;
   	    console.log("selectedCount : " + selectedCount);

    	
   	    // ??? 선택된 친구수가 안 바뀜
   	 	checkboxes.forEach(function(checkbox) {
	   	    console.log("체크박스들 : " + checkboxes);
	   	    
	   	 	checkbox.addEventListener('change', function() {
	   	        if (this.checked) {
	   	            selectedCount++; // 체크박스가 선택되면 카운트 증가
	   	        } else {
	   	            selectedCount--; // 체크박스가 선택 해제되면 카운트 감소
	   	        }
	   	       	console.log("선택된 친구 수 : " + selectedCount);

	   	     	friendCount1.html(selectedCount);
	   	    });
   	        
   	 	});
   		// 선택된 친구수 변경 끝
    	
    	
   	    // 친구 목록 아작스
    	$.ajax({
	   		type : "post",
	  		url : "/mediform/common/chatting/friend/list",
	   		contentType : "application/json; charset=utf-8",
	   		async: false,
	          beforeSend : function(xhr){            
	              xhr.setRequestHeader(header,token);
	          },
	   		success : function(res) {
	   			
	   			var freindListHtml1 = "";
	   			
	   			if(res.length == 0){
	   				console.log("친구 없음!");
	   				
	   			}else{
	   				console.log("친구 있음");
	   				
	   				$(res).each(function(){
	   					
	   					var department = "";
	   					
	   					if(this.empSe === "a"){
	   						department = "원무과";
	   					}else if(this.empSe === "d"){
	   						department = "의사";
	   					}else if(this.empSe === "n"){
	   						department = "간호사";
	   					}else if(this.empSe === "t"){
	   						department = "치료사";
	   					}else if(this.empSe === "m"){
	   						department = "관리자";
	   					}else if(this.empSe === "k"){
	   						department = "병원장";
	   					}
	   					
	  					
	   					freindListHtml1 += "<tr class='oneFriend' id='' style='height: 55px;'>";
	   					freindListHtml1 += "	<td class='col-1' style='vertical-align: middle'>"
	   					freindListHtml1 += "		<input type='checkbox' name='selectFriend' value='" + this.empNo + "' />"
	   					freindListHtml1 += "	</td>"
	   	 				freindListHtml1 += "	<td class='col-3' style='vertical-align: middle'>";
	   	 				freindListHtml1 += "		<img class='rounded-circle' src='" + this.empProfile + "' alt='' style='width:40px; height:40px;'/>";
	   	 				freindListHtml1 += "	</td>";
	   	 				freindListHtml1 += "	<td class='col-4' style='vertical-align: middle'>" + this.empNm +"</td>";
	   	 				freindListHtml1 += "	<td class='col-4 text-center' style='vertical-align: middle'>";
	   	 				freindListHtml1 += department;
	   	 				freindListHtml1 += "	</td>";
	   	 				freindListHtml1 += "</tr>";
	   				});
	   				
	   				
	   				friendSpace1.html(freindListHtml1);
	   				
	   			}
	   			
	  			console.log("");
	   		}
	   	});
    	// 친구 목록 아작스 끝
    });
 	// 방만들기 클릭 이벤트 끝 - 모달
	

    // 방만들기 버튼 클릭 이벤트
    makeRoomBtn.on("click", function(){
    	
    	var makeRoomNameModal = $("#makeRoomNameModal");
    	
    	// 방 이름 설정
    	makeRoomNameModal.modal("show");
    	
    	var makeRoomBtn1 = $("#makeRoomBtn1");
    	
    	// 방만들기
    	makeRoomBtn1.on("click", function(){
    		
    		 var selectedFriendValues = []; // 선택된 사람들
       	 
	       	 var checkboxes = document.querySelectorAll('input[name=selectFriend]:checked');
	       	
	       	 checkboxes.forEach(function(checkbox) {
	       	 	selectedFriendValues.push(checkbox.value);
	       	        
	       	 });
	       	 
	       	 console.log("체크된 사람들 : " + selectedFriendValues)

	       	 var roomName = $("#roomName").val();
	       	 
	       	 console.log("방이름 : " + roomName);
	       	 
	       	 if (selectedFriendValues.length > 0) {
	       		 
	       		 // 채팅방 만들기 inset 아작스
	       		 $.ajax({
	       		 		type : "post",
	       				url : "/mediform/common/chattingroom/insert?roomname="+roomName,
	       				data : JSON.stringify(selectedFriendValues),
	       		 		contentType : "application/json; charset=utf-8",
	       		 		async: false,
	       		        beforeSend : function(xhr){            
	       		            xhr.setRequestHeader(header,token);
	       		        },
	       		 		success : function(result) {
	       					console.log("result : " + result);
	       					if(result === "success"){
	       						
	       						makeRoomNameModal.modal("hide");
	       						makeRoomModal.modal("hide");
	       						
	       						// 모달
	       						Swal.fire({
	       					      icon: 'success',
	       					      title: '채팅방 생성',
	       					      text: '채팅방이 생성되었습니다',
	       					      confirmButtonText: '확인',
	       					      confirmButtonColor: 'midnightblue',
	       					    });
	       						// 모달 끝
	       					}
	       					
	       		 		}
	       		 	});
	       			// 채팅방 만들기 inset 아작스 끝
	       		 
	       	 }else{
	       		 
	       	 }
    		
    	});
    	// 방만들기 끝
    	 
    });
    // 방만들기 클릭이벤트 끝
    
	

});









</script>




